# ğŸ“‹ ä¸‹ä¸€æ­¥è¡ŒåŠ¨æ¸…å•

## ğŸ¯ ç›®æ ‡
å®Œæˆé¡¹ç›®æ¶æ„é‡æ„çš„å‰©ä½™éƒ¨åˆ†ï¼Œä½¿æ–°æ¶æ„å¯ä»¥è¿è¡Œã€‚

## âœ… è¿›åº¦æ¦‚è§ˆ

```
æ€»è¿›åº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 75%

å·²å®Œæˆ (75%):
âœ… config/       (100%) - é…ç½®æ¨¡å—
âœ… utils/        (100%) - å·¥å…·æ¨¡å—  
âœ… core/         (100%) - æ ¸å¿ƒå¼•æ“
âœ… ui/region_selector.py (100%) - åŒºåŸŸé€‰æ‹©å™¨

å¾…å®Œæˆ (25%):
â³ ui/capture_window.py - ç›‘è§†çª—å£
â³ ui/main_window.py - ä¸»çª—å£
â³ ui/__init__.py - UI æ¨¡å—å¯¼å‡º
â³ src/main.py - ç¨‹åºå…¥å£
```

## ğŸ“ è¯¦ç»†æ­¥éª¤

### æ­¥éª¤ 1: åˆ›å»º UI æ¨¡å—å¯¼å‡ºæ–‡ä»¶ (5åˆ†é’Ÿ)

**æ–‡ä»¶**: `src/ui/__init__.py`

**å†…å®¹**:
```python
"""UI æ¨¡å—"""
from .main_window import MainWindow
from .capture_window import CaptureWindow
from .region_selector import RegionSelector

__all__ = ['MainWindow', 'CaptureWindow', 'RegionSelector']
```

**æ£€æŸ¥**: âœ… æ–‡ä»¶åˆ›å»ºæˆåŠŸ

---

### æ­¥éª¤ 2: è¿ç§»ç›‘è§†çª—å£ (30åˆ†é’Ÿ)

**æ–‡ä»¶**: `src/ui/capture_window.py`

**ä»»åŠ¡**:
1. ä» `window_capture_pyqt6.py` å¤åˆ¶ `CaptureWindow` ç±»ï¼ˆè¡Œ 345-430ï¼‰
2. ä¿®æ”¹å¯¼å…¥è¯­å¥
3. ç§»é™¤ `update_capture()` ä¸­çš„æ•è·é€»è¾‘
4. æ·»åŠ ä¿¡å·è¿æ¥

**å…³é”®ä»£ç ç‰‡æ®µ**:
```python
from PyQt6.QtWidgets import QDialog, ...
from PyQt6.QtCore import Qt, QPoint
from ..core import CaptureEngine
from ..utils import logger

class CaptureWindow(QDialog):
    def __init__(self, engine: CaptureEngine, window_title: str):
        super().__init__()
        self.engine = engine
        self.window_title = window_title
        
        # è¿æ¥ä¿¡å·
        self.engine.frame_captured.connect(self.on_frame)
        self.engine.fps_updated.connect(self.on_fps_updated)
        self.engine.method_changed.connect(self.on_method_changed)
        self.engine.capture_failed.connect(self.on_capture_failed)
        
        self._init_ui()
        self.engine.start()
    
    def on_frame(self, image):
        """å¤„ç†æ–°å¸§"""
        self.scene.clear()
        self.scene.addPixmap(QPixmap.fromImage(image))
        ...
```

**æ£€æŸ¥**: âœ… æ–‡ä»¶åˆ›å»ºæˆåŠŸï¼Œæ— è¯­æ³•é”™è¯¯

---

### æ­¥éª¤ 3: è¿ç§»ä¸»çª—å£ (30åˆ†é’Ÿ)

**æ–‡ä»¶**: `src/ui/main_window.py`

**ä»»åŠ¡**:
1. ä» `window_capture_pyqt6.py` å¤åˆ¶ `MainWindow` ç±»ï¼ˆè¡Œ 695-965ï¼‰
2. ä¿®æ”¹å¯¼å…¥è¯­å¥
3. åœ¨ `start_capture()` ä¸­ä½¿ç”¨ `CaptureEngine`

**å…³é”®ä¿®æ”¹**:
```python
from ..utils import WindowManager, ScreenCapture, logger
from ..core import CaptureEngine
from ..config import settings
from .region_selector import RegionSelector
from .capture_window import CaptureWindow

class MainWindow(QMainWindow):
    ...
    
    def start_capture(self):
        hwnd = ...
        region = ...
        fps = ...
        
        # åˆ›å»ºå¼•æ“
        engine = CaptureEngine(hwnd, region, fps)
        
        # åˆ›å»ºçª—å£
        window = CaptureWindow(engine, window_title)
        window.show()
        
        # ä¿å­˜å¼•ç”¨
        self.capture_windows.append((engine, window))
```

**æ£€æŸ¥**: âœ… æ–‡ä»¶åˆ›å»ºæˆåŠŸï¼Œæ— è¯­æ³•é”™è¯¯

---

### æ­¥éª¤ 4: åˆ›å»ºç¨‹åºå…¥å£ (10åˆ†é’Ÿ)

**æ–‡ä»¶**: `src/main.py`

**å†…å®¹**:
```python
"""
å®æ—¶çª—å£ç›‘è§†å™¨ - ç¨‹åºå…¥å£
"""
import sys
from PyQt6.QtWidgets import QApplication

from .config import settings
from .utils import logger
from .ui import MainWindow


def main():
    """ä¸»å‡½æ•°"""
    # åˆå§‹åŒ–æ—¥å¿—
    if settings.debug.log_to_file:
        logger.add_file_handler(settings.debug.log_file_path)
    
    logger.info(f"{'='*60}")
    logger.info(f"{settings.app_name} v{settings.version} å¯åŠ¨")
    logger.info(f"{'='*60}")
    
    # åˆ›å»ºåº”ç”¨
    app = QApplication(sys.argv)
    app.setApplicationName(settings.app_name)
    
    # åˆ›å»ºä¸»çª—å£
    main_window = MainWindow()
    main_window.show()
    
    logger.info("åº”ç”¨ç¨‹åºå·²å°±ç»ª")
    
    # è¿è¡Œäº‹ä»¶å¾ªç¯
    sys.exit(app.exec())


if __name__ == "__main__":
    main()
```

**æ£€æŸ¥**: âœ… æ–‡ä»¶åˆ›å»ºæˆåŠŸ

---

### æ­¥éª¤ 5: åˆ›å»ºä¾èµ–æ–‡ä»¶ (2åˆ†é’Ÿ)

**æ–‡ä»¶**: `requirements.txt`

**å†…å®¹**:
```txt
pywin32>=305
PyQt6>=6.4.0
```

**æ£€æŸ¥**: âœ… æ–‡ä»¶åˆ›å»ºæˆåŠŸ

---

### æ­¥éª¤ 6: æµ‹è¯•è¿è¡Œ (5åˆ†é’Ÿ)

**å‘½ä»¤**:
```bash
# æ–¹å¼ 1: ä½œä¸ºæ¨¡å—è¿è¡Œ
cd C:\Users\user\EVE\EVE-window-capture
python -m src.main

# æ–¹å¼ 2: ç›´æ¥è¿è¡Œ
cd C:\Users\user\EVE\EVE-window-capture\src
python main.py
```

**é¢„æœŸç»“æœ**:
- âœ… ä¸»çª—å£æ‰“å¼€
- âœ… å¯ä»¥é€‰æ‹©çª—å£
- âœ… å¯ä»¥æ‰“å¼€åŒºåŸŸé€‰æ‹©å™¨
- âœ… å¯ä»¥å¯åŠ¨ç›‘è§†

**æ£€æŸ¥**: âœ… ç¨‹åºæ­£å¸¸è¿è¡Œ

---

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜ 1: å¯¼å…¥é”™è¯¯

**é”™è¯¯**: `ModuleNotFoundError: No module named 'src'`

**è§£å†³**: 
```bash
# ç¡®ä¿åœ¨æ­£ç¡®çš„ç›®å½•
cd C:\Users\user\EVE\EVE-window-capture

# ä½¿ç”¨æ¨¡å—è¿è¡Œæ–¹å¼
python -m src.main
```

### é—®é¢˜ 2: ç›¸å¯¹å¯¼å…¥é”™è¯¯

**é”™è¯¯**: `ImportError: attempted relative import with no known parent package`

**è§£å†³**: 
- ç¡®ä¿æ‰€æœ‰ `__init__.py` æ–‡ä»¶å­˜åœ¨
- ä½¿ç”¨ `-m` å‚æ•°è¿è¡Œæ¨¡å—

### é—®é¢˜ 3: ä¿¡å·è¿æ¥é—®é¢˜

**é”™è¯¯**: ç¨‹åºè¿è¡Œä½†ç›‘è§†çª—å£æ²¡æœ‰æ˜¾ç¤ºå›¾åƒ

**è§£å†³**:
- æ£€æŸ¥ `CaptureEngine` çš„ä¿¡å·æ˜¯å¦æ­£ç¡®è¿æ¥
- æ£€æŸ¥ `engine.start()` æ˜¯å¦è¢«è°ƒç”¨
- æŸ¥çœ‹æ—¥å¿—è¾“å‡º

---

## ğŸ“Š å®Œæˆæ£€æŸ¥è¡¨

### æ–‡ä»¶åˆ›å»º

- [ ] `src/ui/__init__.py`
- [ ] `src/ui/capture_window.py`
- [ ] `src/ui/main_window.py`
- [ ] `src/main.py`
- [ ] `requirements.txt`

### åŠŸèƒ½æµ‹è¯•

- [ ] ä¸»çª—å£å¯ä»¥æ‰“å¼€
- [ ] å¯ä»¥æšä¸¾çª—å£åˆ—è¡¨
- [ ] å¯ä»¥æ‰“å¼€å›¾å½¢åŒ–åŒºåŸŸé€‰æ‹©å™¨
- [ ] å¯ä»¥æ‹–æ‹½é€‰æ‹©åŒºåŸŸ
- [ ] å¯ä»¥å¯åŠ¨ç›‘è§†
- [ ] ç›‘è§†çª—å£å®æ—¶æ˜¾ç¤ºç”»é¢
- [ ] FPS æ˜¾ç¤ºæ­£å¸¸
- [ ] å¯ä»¥æš‚åœ/ç»§ç»­
- [ ] å¯ä»¥è°ƒèŠ‚å¸§ç‡

### ä»£ç è´¨é‡

- [ ] æ— è¯­æ³•é”™è¯¯
- [ ] æ— å¯¼å…¥é”™è¯¯
- [ ] æ—¥å¿—è¾“å‡ºæ­£å¸¸
- [ ] æ— è­¦å‘Šä¿¡æ¯

---

## ğŸ¯ å¿«é€Ÿå‚è€ƒ

### å¯¼å…¥è·¯å¾„å¯¹ç…§

| æ—§ä»£ç  | æ–°ä»£ç  |
|--------|--------|
| `debug_print()` | `from ..utils import logger` + `logger.debug()` |
| `settings` å˜é‡ | `from ..config import settings` |
| `CaptureWindow(...)` | `from .capture_window import CaptureWindow` |
| `enum_windows()` | `from ..utils import WindowManager` + `WindowManager.enum_windows()` |
| `capture_window_screenshot()` | `from ..utils import ScreenCapture` + `ScreenCapture.capture_window()` |

### å…³é”®å˜æ›´

| åŠŸèƒ½ | æ—§å®ç° | æ–°å®ç° |
|------|--------|--------|
| æ•è·é€»è¾‘ | åœ¨ `CaptureWindow` ä¸­ | åœ¨ `CaptureEngine` ä¸­ |
| å®šæ—¶å™¨ | åœ¨ `CaptureWindow` ä¸­ | åœ¨ `CaptureEngine` ä¸­ |
| é…ç½® | ç¡¬ç¼–ç  | `settings` å¯¹è±¡ |
| æ—¥å¿— | `print()` | `logger.info/debug/error()` |
| çª—å£ç®¡ç† | å‡½æ•° | `WindowManager` ç±» |
| å±å¹•æ•è· | å‡½æ•° | `ScreenCapture` ç±» |

---

## ğŸš€ ä¼°è®¡æ—¶é—´

- **æ­¥éª¤ 1**: 5 åˆ†é’Ÿ
- **æ­¥éª¤ 2**: 30 åˆ†é’Ÿ
- **æ­¥éª¤ 3**: 30 åˆ†é’Ÿ
- **æ­¥éª¤ 4**: 10 åˆ†é’Ÿ
- **æ­¥éª¤ 5**: 2 åˆ†é’Ÿ
- **æ­¥éª¤ 6**: 5 åˆ†é’Ÿ

**æ€»è®¡**: çº¦ **82 åˆ†é’Ÿ** (1.5 å°æ—¶)

---

## ğŸ’¡ æç¤º

1. **é€æ­¥æµ‹è¯•**: å®Œæˆæ¯ä¸ªæ­¥éª¤åç«‹å³æµ‹è¯•
2. **ä¿ç•™æ—§ç‰ˆæœ¬**: `window_capture_pyqt6.py` ä½œä¸ºå‚è€ƒ
3. **æŸ¥çœ‹æ—¥å¿—**: é‡åˆ°é—®é¢˜å…ˆçœ‹æ—¥å¿—è¾“å‡º
4. **å‚è€ƒæ–‡æ¡£**: æŸ¥çœ‹ `é¡¹ç›®æ¶æ„è¯´æ˜.md` äº†è§£è®¾è®¡ç†å¿µ

---

## ğŸ‰ å®Œæˆå

æ­å–œï¼ä½ ç°åœ¨æ‹¥æœ‰ä¸€ä¸ªï¼š
- âœ… æ¨¡å—åŒ–çš„é¡¹ç›®ç»“æ„
- âœ… ç¬¦åˆ SOLID åŸåˆ™çš„è®¾è®¡
- âœ… æ˜“äºæµ‹è¯•å’Œç»´æŠ¤çš„ä»£ç 
- âœ… ä¸“ä¸šçš„è½¯ä»¶å·¥ç¨‹å®è·µ

**ä¸‹ä¸€æ­¥**: å¯ä»¥è€ƒè™‘æ·»åŠ å•å…ƒæµ‹è¯•ã€CI/CD ç­‰æ›´é«˜çº§çš„åŠŸèƒ½ï¼

